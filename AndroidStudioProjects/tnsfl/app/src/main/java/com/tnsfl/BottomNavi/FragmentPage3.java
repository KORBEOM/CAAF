package com.tnsfl.BottomNavi;

import android.content.Context;
import android.os.Bundle;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.inputmethod.InputMethodManager;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import com.tnsfl.DataSet.kakaResult;
import com.tnsfl.Interface.kakaoApi;
import tnsfl.R;

import net.daum.mf.map.api.CalloutBalloonAdapter;
import net.daum.mf.map.api.MapPOIItem;
import net.daum.mf.map.api.MapPoint;
import net.daum.mf.map.api.MapView;

import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;
import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;


public class FragmentPage3 extends Fragment{

    private final String API_KEY = "KakaoAK e3ed986bb1fc57e3a43528fecbf5600d";
    Context context;
    private static final String LOG_TAG = "Fragment3";
    private MapView mapView;
    private ViewGroup mapViewContainer;
    AutoCompleteTextView autoCompleteTextView;
    private MapPoint CenterDot = MapPoint.mapPointWithGeoCoord(36.8149725651939, 127.1146403109173);
    private InputMethodManager imm;

    static final String[] COUNTRIES =new String[]{
            "카페이레",
            "단&비",
            "본태커피하우스",
            "점핑고",
            "스윗플로라",
            "탐앤탐스천안삼거리점",
            "빽다방천안쌍용이마트점",
            "커피그래비티",
            "카페하인츠",
            "이디야커피전문점",
            "토프레소신불당점",
            "요거프레소천안단국대점",
            "빽다방천안불당지웰점",
            "크레센도",
            "라온",
            "투썸플레이스천안성정제일점",
            "소사",
            "앤트커피",
            "아마렐로",
            "커피본연춘점",
            "한들오븐",
            "할리스커피천안두정역점",
            "카페드도쿄백석점",
            "더드림",
            "(주)스토어하우스아마스빈신부점",
            "스타벅스천안아이씨디티점",
            "구움",
            "이디야커피백석대북카페점",
            "주식회사카페고메",
            "카페콤마",
            "사나래플라워앤카페",
            "더카페쿠키천안점",
            "축구센터커피숍",
            "투썸플레이스천안신부점",
            "투썸플레이스천안신부점",
            "요거프레소천안병천점",
            "더모어더베러",
            "스타벅스천안이마트점",
            "더벤티천안두정점",
            "그리고제제",
            "버터집",
            "디저트소밀",
            "토프레소천안신부점",
            "스무디킹",
            "카페베네쌍용점",
            "카페보니또",
            "엔제리너스두정점",
            "카페그랑이랜드물류센터점휴게음식점",
            "서진단조주식회사천안지점",
            "베이크움",
            "라비에벨",
            "카메라떼안서점",
            "랜디스",
            "토프레소",
            "도피오커피독립기념관점",
            "카페슬해",
            "빽다방천안불당중앙점",
            "굿타임카페",
            "아이언피씨카페",
            "빽다방천안상명대점",
            "카페베네천안병천점",
            "블루가든천안불당점",
            "카페여유당",
            "블루포트서북경찰서점",
            "아리아리협동조합",
            "그대와봄날",
            "코레일유통(주)마성떡볶이",
            "진수네드레스카페",
            "산타클라라",
            "카페지",
            "챔피언키즈스포츠클럽천안신방점",
            "엔제리너스천안직산점",
            "투썸플레이스천안두정점",
            "요거프레소",
            "타이거슈가천안점",
            "보드웰",
            "주식회사케이알산업입장거봉포도(서울)휴게소청년비범한꼬치",
            "공주대학교공과대학커피전문점",
            "메가엠지씨커피천안두정중앙점",
            "멋",
            "던킨도너츠천안야우리점",
            "오드리",
            "커피그래비티",
            "띠아모천안불당점",
            "민스커피",
            "빈스앤베리즈센터시티3호점",
            "빈스앤베리즈센터시티1호점",
            "빈스앤베리즈센터시티2호점",
            "세나클",
            "파스쿠찌천안역점",
            "카페아모르",
            "아드반테스트코리아카페",
            "커피소사이어티",
            "카페왈라",
            "슬로우커피3",
            "매주리",
            "행복돈까스",
            "쥬씨신불당점",
            "카페치올라",
            "메리골드",
            "문토스트커피",
            "아파트옆식물원까페휴심",
            "겨자씨까페",
            "카페모리앙",
            "쏠뱅",
            "카페에스피",
            "유달리두정점",
            "달커피",
            "딜",
            "그레이스하늘샘까페",
            "카페파구스천안남산점",
            "스타벅스천안신부동점",
            "정진원의커피볶는집로스터스",
            "메종드엠",
            "안나카페",
            "탐앤탐스천안백석점",
            "카페라고",
            "시크릿쥬쥬또봇천안불당점",
            "딜리셔스",
            "연이낭자",
            "선길",
            "카페316",
            "야미야미분식다방",
            "커피와꽃향기",
            "참도시락",
            "이디야커피천안직산점",
            "빽다방천안두정중앙",
            "카페베네펜타포트점",
            "투썸플레이스천안신불당에스케이",
            "더카페엠지",
            "빽다방천안역점",
            "일층상사",
            "모넬로",
            "스타벅스천안쌍용역점",
            "커피방울",
            "쉐이드트리",
            "카페어젠",
            "서정이네커피콩",
            "수상한홍카페",
            "루카스카페",
            "투썸플레이스",
            "스타벅스천안두정점",
            "탐앤탐스천안에비뉴점",
            "황실가카페",
            "이디야커피천안신방점",
            "리틀팝",
            "탐앤탐스두정점",
            "할리스커피쌍용점",
            "도피오커피순천향대병원외래진료관점",
            "커피바이블",
            "카페이디야천안신불당점",
            "베브릿지신세계천안점",
            "듀오0301",
            "메가커피",
            "카페2층",
            "이디야천안불당신도시점",
            "할리스커피동천안우체국점",
            "카페디엔어울림",
            "디저트39",
            "메가커피",
            "동네커피",
            "(주)제이에스물산커피니앤비비큐",
            "파크",
            "풍세커피",
            "더채움",
            "카페헤븐",
            "정연이타로이야기",
            "다님길커피",
            "이베노가",
            "러브유레이틀리",
            "아날로그커피",
            "카페맘마누",
            "골든로우프",
            "마리웨일237신방점",
            "봉구커피",
            "우주라이크천안법원점",
            "카페뷰리백석대학교분수광장점",
            "카페뷰리백석대학교조형관점",
            "스타벅스천안불당점",
            "제주스천안지점",
            "메이블러썸",
            "토프레소천안청당점",
            "바이올렛",
            "드롭탑신부점",
            "카페두다트",
            "카페브로",
            "남서울대이디아커피점",
            "커피707",
            "투썸플레이스통정점",
            "쥬씨천안역점",
            "꽈배기친구들",
            "엔제리너스신방점",
            "델리와플",
            "메가커피",
            "카페공간학",
            "아이엠커피",
            "카페그리고",
            "가비",
            "커피동경",
            "은빛카페휴",
            "까페길목",
            "크리스마스",
            "나이스앤이지",
            "투썸플레이스천안용곡점",
            "카페수",
            "언아더",
            "투썸플레이스천안안서점",
            "카페드몬몽",
            "바닐라봉봉",
            "지로스터커피",
            "카페정원",
            "세나클",
            "커피원",
            "리치블랙",
            "무니",
            "더커피",
            "카페코발트",
            "투썸플레이스천안청수행정타운점",
            "이랜드리테일카페베즐리",
            "공차천안야우리점",
            "카페맘마누",
            "오션카페",
            "파인트리카페",
            "맘앤쉐프카페",
            "투썸플레이스씨지브이천안펜타포트점",
            "스윗아르떼",
            "세나클",
            "샤론전통찻집",
            "카페지니스",
            "블루포트",
            "마음을그리다",
            "새날카페단대병원점",
            "꽃소담",
            "카페텐타티오",
            "도솔커피숍",
            "그라찌에천안성성점",
            "스타벅스천안신불당점",
            "커피그레비티",
            "커피숲",
            "에클레시아",
            "씨엔카페",
            "라떼빈",
            "커피베이천안백석점",
            "러블리베베",
            "블랙컨테이너",
            "할리스커피",
            "천안인애학교해미래드림까페",
            "로맨틱투휠",
            "로하커피",
            "콤마",
            "신단수까페",
            "할리스펜타포트",
            "토프레소천안구성점",
            "버블톡(펜타포트점)",
            "새날카페치대병원점",
            "아나싸장",
            "카페0124",
            "페스티벌",
            "스타벅스천안청당점",
            "더브농",
            "로티번",
            "스타벅스천안성정디티점",
            "택스처",
            "3월의달콤함",
            "리틀베베키즈카페",
            "토프레소쌍용점",
            "투썸플레이스천안청당마을점",
            "빈트커피",
            "카페237",
            "빽다방천안두정역점",
            "카페오슈오",
            "(주)제이드림지점",
            "아이키친",
            "부록하우스",
            "스위트박스천안불당점",
            "노아목공소카페",
            "캔두",
            "단",
            "그리다꿈",
            "토프레소병천점",
            "커피본",
            "알리바바천안점",
            "이디야커피천안구성동점",
            "더카페",
            "열매를맺다디저트부티크",
            "비치",
            "제이스맨션",
            "스타벅스천안시청점",
            "카페와썹",
            "도란도란커피천안지원",
            "요거프레소두정중앙점",
            "은하수",
            "카페베네신부점1",
            "카페베네신부점2",
            "(주)케이알산업입장상휴게소탐앤탐스",
            "요거프레소차암점",
            "타꼬박스",
            "카페바이서누",
            "희망카페",
            "청자다방",
            "라노체케이크",
            "대즐커피숍",
            "그래비티",
            "이디야커피",
            "겨레의집카페",
            "세나클신방통정점",
            "엘커피",
            "카페804",
            "카페앤젤라",
            "아름다운정원화수목",
            "문카페",
            "모임방",
            "피플앤스토리",
            "김하경의커피볶는집",
            "배스킨라빈스천안성환점",
            "로아",
            "피그말리온",
            "헬로커피",
            "카페테리아예",
            "무궁화블라썸",
            "이도로에커피",
            "미라클요가미니카페",
            "지로스터커피",
            "해피누리",
            "메가엠지씨커피천안백석점",
            "멜번커피하우스",
            "커피그래비티모다아울렛점",
            "고구려",
            "카페최블리",
            "앙두",
            "소셜스낵",
            "공감",
            "체타델피오레",
            "스윗팟",
            "바움",
            "아름다운정원화수목",
            "다나우토바병천점",
            "파스쿠찌천안신불당점",
            "양지커피",
            "겐트",
            "폰더커피",
            "커피가좋은날",
            "이디야커피천안청당동점",
            "빽다방천안불당정석점",
            "카페리비에르",
            "메가커피",
            "공차천안신불당점",
            "티카페",
            "구름솜",
            "탐앤탐스천안단국대호수점",
            "길목커피",
            "카레클린트천안점",
            "순수커피천안점",
            "에그박스불당점",
            "커피베이차암동점",
            "카페반디나무",
            "커피랑",
            "공주대학교공과대학커피전문점클라우드9",
            "스타벅스천안서부대로디티점",
            "할리스커피천안신부점",
            "이디야커피천안성정점",
            "소이",
            "카페미드바르",
            "메가엠지씨커피천안법조타운점",
            "더벤티불당점",
            "카페솔잎",
            "백금당천안점",
            "메가엠지씨커피천안용암마을점",
            "프라임버드넓은들카페",
            "이디야천안병천점",
            "스타벅스천안불당디티점",
            "빠다미뇽",
            "모든디저트",
            "천안시꽃밭",
            "베이그",
            "베리로찌",
            "이디아커피불당동점",
            "모드니까페",
            "요거프레소천안백석대점",
            "웜",
            "주식회사메가마트삼성에스디아이복지동카페",
            "MRGT",
            "카페블레스롤천안신불당점",
            "추억다방",
            "멜번커피하우스",
            "로드웨이129",
            "땡큐",
            "포리빈",
            "상덕커피",
            "멜번커피하우스1",
            "데이앤데이",
            "요거프레소천안청당점",
            "메가엠지씨커피천안신방지구점",
            "메가엠지씨커피천안프라디움시티점",
            "제이마카롱",
            "해피누리신방점",
            "컴어라운드",
            "클라인",
            "커피까망콩",
            "엘로힘카페공방",
            "스타벅스천안서북이마트점",
            "카페베네",
            "카페하루",
            "제이블라썸",
            "신사커피",
            "카페그린",
            "이디야천안성성점",
            "수다실",
            "더이스턴",
            "봉달쥬스",
            "스타벅스천안신부알점",
            "카페앨리스",
            "던킨천안청수점",
            "팔공티",
            "리드온",
            "투썸플레이스천안터미널점",
            "이숲",
            "커피향기카페",
            "상덕로87카페",
            "팔공티",
            "공간의미",
            "롱테이블",
            "메가커피",
            "카페판다천안신방점",
            "향솔원",
            "오조커피",
            "라운디",
            "카페더주스",
            "히든모먼츠",
            "헤스티아",
            "카페콘파나",
            "공차천안성정점",
            "카페미라13",
            "라이브커피로스터스",
            "쿱스",
            "이디야커피",
            "몽야",
            "샐요일",
            "빽다방천안청당점",
            "팔공티청수점",
            "어반트리스터디카페",
            "뉴욕쟁이디저트눈들점",
            "흑화당천안신부점",
            "깜언",
            "카페텀블러천안갤러리아센터시티점",
            "CAFEM",
            "컴포즈커피롯데마트성정점",
            "몬스터펫",
            "475베이커리",
            "토프레소천안성성점",
            "카페온나",
            "빽다방천안백석점",
            "링크아쿠아",
            "바우하우스",
            "작가의서재",
            "셧업앤댄스",
            "다연",
            "온다",
            "메가엠지씨커피천안성성레이크타운점",
            "흑화당신방동점",
            "메가커피 천안불당지웰점",
            "스타벅스천안두정역디티점",
            "글로베리아",
            "메가커피남서울대점",
            "피카플레이스",
            "쉬즈베이글커피신불당점",
            "다온까페",
            "드롭탑 천안모다아울렛점",
            "호랭이카페",
            "JJ아트갤러리",
            "빈아티팩트",
            "투썸플레이스직산점",
            "아임일리터",
            "어거스트센트",
            "피크닉타임",
            "잇덴굿",
            "팔공티",
            "빽다방천안성환중앙점",
            "공차천안고속터미널점",
            "두레앙카페",
            "코끼리공장",
            "플레이원 휴게음식점",
            "지로스터",
            "달달한가",
            "버드소리천안점",
            "맛초떡복이",
            "밀카천안점",
            "카페고즈넉",
            "잇덴굿",
            "cafe804",
            "고마워서그래",
            "우리350카페",
            "더달콤",
            "카페앤스토리소학동",
            "하이솜커피",
            "투데이카페",
            "오늘",
            "아람플라워카페",
            "브루1990커피",
            "셀렉토커피",
            "그곳에커피향",
            "마마트천안백석점",
            "사랑이머무는카페",
            "부록하우스",
            "티앙웨이",
            "에유",
            "공차천안백석대점",
            "신박커피",
            "문화동커피집",
            "아장아장베이비카페",
            "버터레이어",
            "가문비나무아래",
            "라비갤러리카페",
            "가루",
            "카페달쥬",
            "로건커피",
            "스타벅스천안백석점",
            "와플대학천안청당점",
            "공차천안불당파크점",
            "아이스바닐라라떼",
            "이디야커피백석대점",
            "이디야커피 단국대학생회관점",
            "마농스",
            "매머드익스프레스천안상명대점",
            "인올",
            "공차천안남서울대점",
            "카페담소",
            "부에노",
            "띠아모",
            "카페바이올렛2호점",
            "인펄슨",
            "라모르사랑을담아",
            "토아빈",
            "네일앤커피",
            "연달",
            "뷰282",
            "제이델링",
            "레드브릭125",
            "팔공티백석점",
            "과일707",
            "아름청과카페",
            "브릴리언트",
            "풀떼기커피",
            "마법의커피",
            "숲속의문",
            "우주라이크불당점",
            "홍루이젠불당점",
            "야간커피점품",
            "인더갤러리",
            "쿼티커피로스터스",
            "순복",
            "구룡카페호두과자",
            "라떼떼커피베이글입장1점",
            "오월의숲커피팩토리",
            "우연히그곳",
            "헬기카페",
            "오이예커피",
            "사옥카페",
            "카롱카롱",
            "키존빌리지천안점",
            "아시나요",
            "카페하인츠삼거리점",
            "공차천안신방중앙점",
            "달콤팩토리",
            "공차천안청수점",
            "몽글",
            "찬미카페",
            "(주)에스디인터내셔날나인블럭레이크업성천안점",
            "오르빗",
            "로건커피성정점",
            "뮤즈드카페",
            "카페소도",
            "셀렉토커피천안신불당점",
            "숨어반",
            "카페프리모",
            "랭스터디카페천안두정점",
            "스타벅스천안업성레이크점",
            "베데스다",
            "날쌘카페천안성정점",
            "라피스커피",
            "카페1994",
            "징구쥬스",
            "와이블랙",
            "카페수리",
            "커피베이천안두정동점",
            "이디야천안성거길점",
            "카페안",
            "다쿠즈",
            "공차천안안서점",
            "디저트메이",
            "마마830",
            "우주라이크커피성성점",
            "프레빈스커피",
            "능수커피",
            "프로피랩",
            "빽다방천안신방점",
            "해피스",
            "카페라이더",
            "이음",
            "카페라이더",
            "유림당",
            "안김",
            "빠다미뇽",
            "커피서당",
            "카페낮엔",
            "메가엠지씨커피천안나사렛대점",
            "푸푸커피천안신불당점",
            "멜티드",
            "디저트39",
            "북문당천안불당점",
            "빽다방불당호반점",
            "카페가온",
            "카페드꽃담",
            "블루포트상명대천안캠퍼스디자인관점",
            "에프엠그룹",
            "던킨천안백석점",
            "커피쿡신불당씨지브이점",
            "오뉴월샐러드",
            "오도그",
            "로아보샐러드천안두정동점",
            "읍천리382천안두정점",
            "쥬랑쥬랑",
            "카페아이엔지상명대한누리관점",
            "봉스캠프",
            "샐포유",
            "아홉시제과",
            "빽다방백석환서점",
            "공차천안차암점",
            "베이크앤",
            "컴포즈커피신불당중앙점",
            "큐리키즈카페천안점",
            "비브레이브천안",
            "켈리커피",
            "에이바우트커피천안터미널점",
            "커피팔오",
            "Marie M",
            "베이커리담",
            "메가엠지씨커피천안백석현대점",
            "카페이륜당",
            "블룸아뜰리에",
            "예일타운",
            "클라인",
            "카페온담",
            "달쥬과일상점 천안17호점",
            "프찌",
            "하우다",
            "일루플라워카페",
            "카페이륜당청당청수점",
            "커피마마퀸",
            "샐컵",
            "천안추모공원매점",
            "더벤티천안성성점",
            "커피클래식",
            "디소네",
            "마인드윙즈",
            "빠다미뇽",
            "유캔두잇청수점",
            "카페미뇽천안신불당점",
            "탄탈라이즈르네데르커피",
            "빽다방천안차암점",
            "하랑",
            "르뮤게",
            "르벤",
            "3.14파이",
            "토모토모",
            "아베크",
            "고망고",
            "붕어네커피",
            "프리즈커피",
            "원밀리언파운드",
            "하프코너",
            "커피냠냠",
            "디저트39 천안신불당점",
            "그라찌에남서울대점",
            "이제와플",
            "바닐라앤빈",
            "카페프렌즈",
            "오롯이베이킹공방",
            "메가엠지씨커피천안불당아이파크점",
            "갓츠킹천안불당점",
            "카페해늘",
            "카페코지",
            "잇덴굿",
            "카페천국",
            "카페528",
            "자매양과",
            "마리상점",
            "랭스터디카페천안신불당점",
            "아이갓에브리띵",
            "달리는커피천안백석점",
            "레포소커피",
            "멜번커피하우스",
            "(주)제이에스물산더플래닛",
            "카페라이더",
            "헬로브로",
            "마르셀의여름",
            "포레스트",
            "씨유펫",
            "휴온커피",
            "오쩜이엔",
            "까페하나",
            "135클렌즈주스",
            "우주라이크커피차암점",
            "유니플라워카페",
            "카페유월",
            "달리는커피두정해링턴점",
            "포벤커피",
            "카바나",
            "탐앤탐스업성호수점",
            "더리터천안불당점",
            "문화시민",
            "단카페",
            "오브유",
            "까비앙루이",
            "어서오세요",
            "카페루나",
            "연수원마켓",
            "온다카페",
            "공차천안봉명점",
            "예예데이",
            "카페내",
            "카페천국",
            "이디야커피천안용암사거리점",
            "반달커피천안에비뉴점",
            "잇덴굿백석",
            "블루포트호서대학교점",
            "이디야두정역점",
            "컴포즈커피천안불당대원점",
            "카페라이더",
            "코지그라운드",
            "오요커피",
            "일등라이브카페",
            "오곡리377",
            "날쌘카페청당점",
            "이디야천안월봉4로점",
            "커피마마쌍용점",
            "카페샘",
            "엘빈즈앤아메리칸트레이",
            "카페인중독성정점",
            "공차천안두정역점",
            "카페라이더불당점",
            "보리원호두과자찰보리빵",
            "(주)커피빈코리아천안신부동점",
            "맘스베이커리카페",
            "이디야천안성환점",
            "에그라운드",
            "아이캔커피",
            "컨비니언스신불당점",
            "판정리카페",
            "커피쿡천안본점",
            "컴포즈커피성정점",
            "리무소컬렉티브",
            "피터패터",
            "인생커피",
            "크라상점천안신불당점",
            "스위로브",
            "샐러드가든앤카페",
            "더마지끄",
            "카페데이오프",
            "핀스커피",
            "그래비티",
            "제이로그",
            "라운지커피",
            "훈이네마늘빵",
            "103커피이야기",
            "알콩달콩",
            "카페일리터천안점",
            "온띠에라",
            "삼은리76 173",
            "어나더카페",
            "이디야커피",
            "보나커피",
            "쥬씨천안성정점",
            "이륜당",
            "퀴즈노스천안불당점",
            "폴레에스프레소",
            "밀크아트",
            "이디야천안맘마마트점",
            "떡탐이마트천안서북점",
            "커피홀",
            "커방",
            "디자인컴퍼니",
            "유달리쌍용점",
            "하루를담다",
            "샘카페",
            "커피수수",
            "명량핫도그 천안백화점",
            "언틸",
            "백련못카페",
            "생산자도매유통길트레이드",
            "탐앤탐스불당점",
            "스타벅스천안안서점",
            "동궁로스팅커피",
            "베리베리",
            "투썸플레이스업성레이크점",
            "이웃집레옹",
            "알롱지",
            "에스프레소임광선",
            "더다움",
            "투썸플레이스천안차암점",
            "통이네다방",
            "오씨티",
            "카페온",
            "오픈업커피",
            "봉봉키즈천안아산점",
            "쁘띠마쥬",
            "요거프레소",
            "707커피",
            "베니스",
            "요거프레소",
            "이디야천안두정점",
            "쁘띠몽드",
            "포일스까페",
            "카페리솔트",
            "놀숲신부점",
            "곰브라더스신부동천안본점",
            "스위트번스",
            "라움앤커피",
            "토닥토닥카페",
            "하프커피천안점",
            "주식회사메가마트삼성에스디아이한마음카페",
            "빵굽는커피집",
            "디에떼에스프레소",
            "카페,달달하이",
            "기억저장소",
            "디저트하우스",
            "카페봄별",
            "탑브릭스두정점",
            "해피홀",
            "예그리나",
            "윤커피",
            "다뺀다방",
            "블렌데렌",
            "솔향기가득차",
            "하임",
            "커피614",
            "그래비티",
            "카페루키",
            "노리파크천안백석점",
            "광덕양조장",
            "그래비티신불당",
            "모리셔스브라운천안불당점",
            "평온한정원찻집",
            "아이지에이마트성정점",
            "빽다방천안시청점",
            "히츠캔커피",
            "머머카페",
            "에그까페",
            "카페2020",
            "아임일리터두정점",
            "카페모스트",
            "밸런스 커피 로스터(balance coffee roaster)",
            "공단",
            "한움",
            "세라젬웰카페천안불당",
            "림스베이커리",
            "소사",
            "샤론전통찻집",
            "모임방",
            "솔향기가득차",
            "만화세상",
            "놀숲 천안불당점",
            "코믹몬스터 쌍용점",
            " 코믹몬스터",
            "만화천국",
            "노리터만화카페",
            "수페만화",
            "놀숲 신부점",
            "만화1번가 구성점",
            "벌툰 천안청당점",
            "풀덤 천안신부점",
            "툰하우스",
            "와우만화카페",
            "보람책방",
            "만화카페마실",
            "성환만화",
            "캠프VR 천안신부점",
            "Maker Space",
            "마스터플랜 스터디카페 천안직산점",
            "그루스터디카페 천안직산센터",
            "새벽스터디카페",
            "무인스터디카페",
            "숨스터디카페 천안백석점",
            "워크앤티 스터디카페 불당점",
            "초심스터디카페 천안두정점",
            "TYST스터디카페",
            "그루스터디카페 천안신불당동센터",
            "작심스터디카페 천안백석점",
            "작심스터디카페 천안두정점",
            "시작스터디카페 천안백석점",
            "공부의숲스터디카페",
            "비온탑 스터디카페 천안두정점",
            "플랜트스터디카페 천안두정점",
            "프라임스터디카페 백석점",
            "라임스터디카페 두정점",
            "율스터디카페 불당파크점",
            "로그인 스터디카페",
            "초심 스터디카페 신방용곡100호점",
            "작심스터디카페 천안청당점",
            "작심스터디카페 천안용곡점",
            "데이스터디카페 천안신방센터",
            "라임스터디카페 청당점",
            "아이블스터디카페",
            "이지스스터디카페 천안쌍용역점",
            "아이블 스터디카페",
            "작심스터디카페 천안신방점",
            "에코스터디카페",
            "이지스스터디카페 천안고점",
            "어라운드스터디카페 천안점",
            "써밋스터디카페",
            "이룸스터디카페",
            "랭스터디카페 천안터미널점",
            "랭스터디카페 천안신불당점",
            "마이룸스터디카페 천안쌍용점",
            "작심스터디카페 천안불당점",
            "타임유스터디카페 천안신불당점",
            "초심스터디카페 천안신불당점",
            "비허밍스터디카페 천안신불당점",
            "스터디카페 더벨 불당점",
            "블루문스터디카페 불당점",
            "이지스스터디카페 찬안쌍용사거리점",
            "네이처스터디카페",
            "마이룸스터디가페 용암점",
            "머머스터디카페",
            "초심스터디가페 천안쌍용불당용암점",
            "어라운드스터디카페 천안불당점",
            "올데이온 스터디카페",
            "비온탑 스터디카페 천안쌍용점",
            "챔피언키즈스포츠클럽천안신방점",
            "시크릿쥬쥬또봇천안불당점",
            "모넬로",
            "해피누리",
            "해피누리신방점",
            "쁘띠몽드",
            "노리파크천안백석점",
            "더스완 천안아산점",
            "스타비키즈카페",
            "리틀베베키즈카페",
            "봉봉키즈천안아산점",
            "큐리키즈카페천안점",
            "키즈카페리틀팝",
            "벨 키즈파크",
            "잼잼키즈카페",
            "너티차일드 천안점",
            "아장아장베이비카페",
            "점핑고",
            "히어로플레이파크 천안점",
            "플레이원",
            "점핑고",
            "쁘띠엘 점프로이",
            "슈슈봉봉 불당점",
            "베이비카페 러블리베베",
            "쁘띰몽드 천안불당점",
            "헬로밀가루 천안점",
            "키존빌리지천안점",
            "플레이타임 펜타포트점",
            "쁘띠마쥬",
            "크레빌 천안불당점",
            "아이키친 천안점",
            "챔피언 홈플러스 천안신방점",
            "쁘띠베베",
            "체리와친구들",
            "점핑스토리",
            "티키톡랜드",
            "비즈&블록",
            "깨비블럭 천안신방점",
            "노리파크 천안백석점",
            "청솔방방",
            "블럭업",
            "와라방방",
            "점핑랜드",
            "해피누리 신방점",
            "점핑업",
            "아이점프 천안신방점",
            "블베어파크 천안점",
            "점프윈스줄넘기클럽",
            "점핑랜드신방점",
            "롤리폴리",
            "점핑스타 천안 용곡점",
            "꺽다리방방",
            "롤리폴리천안직산점",
            "라온플레이몰",
            "플레이타임 천안구성점",
            "좋은방방",
            "블록피아",
            "플레이 룸카페",
            "큐브트리",
            "카페애견",
            "코지그라운드",
            "통이네다방",
            "포마이도그",
            "똑똑애견카페",
            "프찌",
            "카페유대",
            "어썸애견카페",
            "돌봄",
            "잇츠독",
            "카페맘마누",
            "가넷애견카페",
            "날아라멍멍",
            "스몰펫랜드",
            "이리와 안와줄개",
            "아시나요 카페",
            "꽃분이네애견카페",
            "펫마파크 수담",
            "멍카페유",
            "아나쥬 동물농장",
            "딩동댕독",
            "쥬쥬피아",
            "몬스터펫 파충류&카페",
            "미뇽",
            "이씨네복덕방",
            "순복카페",
            "순복이네스핑크스 고양이호텔",
            "아름다운정화원화수목",
            "에이지펫파크",
            "개인공간",
            "어서타개 천안점",
            "DS애견동반카페",
            "셜록홈즈 천안 1호점",
            "셜록홈즈 천안 2호점",
            "마스터키 천안신부점",
            "마스터키 천안두정점",
            "ESC방탈출카페",
            "무비이스케이프",
            "루팡방탈출카페천안점",
            "보드게임카페 레드버튼 천안점",
            "보드게임카페 홈즈앤루팡 천안점",
            "킹덤보드게임카페 천안점",
            "스페이스 공간",
            "보드스쿨",
            "플레이랩",
            "물고기세상 낚시카페",
            "LOVE낚시카페 천안점",
            "마녀낚시카페",
            "더카페쿠키",
            "소정공방",
            "앙두",
            "엘스윗케이크",
            "오리진공방카페",
            "자이트",
            "제이로그",
            "케익공방",
            "가루",
            "소담커피",
            "더레드썬케이크앤쿠키",
            "재잘재잘",
            "르방방",
            "구름별꽃",
            "잠못자커피&공방",
            "마음을그리다",
            "식빵공방",
            "아만떼델커피",
            "엘로힘카페공방",
            "나녹북카페",
            "미시온",
            "반지만들기카페 천안 반지마을",
            "딜카페도자기공방",
            "디어 젠",
            "허니공방",
            "빈스브라운",
            "모형광",
            "구름정원",
            "하루",
            "한가롬전통찻집",
            "인사동전통찻집",
            "쉼터전통찻집",
            "다연전통찻집",
            "유성전통찻집",
            "잎담",
            "한방카페쉼",
            "민들레찻집",
            "땅불바람",
            "수퐁",
            "금복찻집",
            "평온한정원찻집"
    };


    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        setHasOptionsMenu(true);
        View view = inflater.inflate(R.layout.fragment_page_3, container, false);

        autoCompleteTextView = (AutoCompleteTextView)view.findViewById(R.id.auto_search);
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(getContext(),R.layout.dropdwonlist,COUNTRIES);
        autoCompleteTextView.setAdapter(adapter);
        autoCompleteTextView.setOnItemClickListener(clickListener);

        mapView = new MapView(getActivity());
        mapViewContainer= (ViewGroup) view.findViewById(R.id.map_view);
        mapView.setMapCenterPoint(CenterDot, true);
        mapView.setZoomLevel(6, true);
        mapViewContainer.addView(mapView);

        imm = (InputMethodManager) getContext().getSystemService(getContext().INPUT_METHOD_SERVICE);


        return view;
    }



    AdapterView.OnItemClickListener clickListener = new AdapterView.OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
            autoCompleteTextView.setText(null);
            mapView.removeAllPOIItems();
            String toastMessage = ((TextView)view).getText().toString();
            hideKeyboard(autoCompleteTextView);
            searchKeyword(toastMessage);
            //Toast.makeText(getContext(),toastMessage , Toast.LENGTH_SHORT).show();
        }
    };


    void searchKeyword(String keyword){

        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl("https://dapi.kakao.com/")
                .addConverterFactory(GsonConverterFactory.create())
                .build();


        kakaoApi service = retrofit.create(kakaoApi.class);

        Call<kakaResult> call = service.getSearch(API_KEY, keyword,"127.1146403109173","36.8149725651939",10000);


        call.enqueue(new Callback<kakaResult>() {
            @Override
            public void onResponse(Call<kakaResult> call, Response<kakaResult> response) {
                 if(response.isSuccessful()) {
                     kakaResult result = response.body();
                     Log.d(LOG_TAG, "onResponse: 성공 , 결과 ," + result.getDocuments());

                     if(result.getDocuments().size() == 0) {
                        Toast.makeText(getContext(),"존재 하지 않습니다.",Toast.LENGTH_LONG).show();
                    }else{
                         MapPoint mapPoint1 = MapPoint.mapPointWithGeoCoord(Double.parseDouble(result.getDocuments().get(0).getY()),Double.parseDouble(result.getDocuments().get(0).getX()));
                         mapView.setMapCenterPoint(mapPoint1, true);
                         mapView.setZoomLevel(1, true);

                         for(int i =0; i < result.getDocuments().size(); i++){
                             String lat = result.getDocuments().get(i).getX();
                             String lon = result.getDocuments().get(i).getY();
                             MapPoint mapPoint = MapPoint.mapPointWithGeoCoord(Double.parseDouble(lon), Double.parseDouble(lat));


                             MapPOIItem customMarker = new MapPOIItem();
                             customMarker.setMapPoint(mapPoint);
                             customMarker.setItemName(result.getDocuments().get(i).getPlace_name());
                             customMarker.setSelectedMarkerType(MapPOIItem.MarkerType.RedPin);


                             mapView.addPOIItem(customMarker);
                             //mapView.setCalloutBalloonAdapter(new CustomCalloutBalloonAdapter(result.getDocuments().get(0).getPlace_name(),result.getDocuments().get(0).getRoad_address_name(),result.getDocuments().get(0).getPhone()));
                         }
                    }

                 }
                else{
                    Log.d(LOG_TAG,"onResponse: 실패 " + response.body());
                }
            }



            @Override
            public void onFailure(Call<kakaResult> call, Throwable t) {
                Log.d(LOG_TAG,"onFailure "+t.getMessage());

            }
        });
    };

    public final void hideKeyboard(View v){
        InputMethodManager var10000 = this.imm;
        if(var10000 != null){
            var10000.hideSoftInputFromWindow(v.getWindowToken(),0);
        }
    }

    class CustomCalloutBalloonAdapter implements CalloutBalloonAdapter{
        private final View mCalloutBallon;
        private String title;
        private String road;
        private String phone;

        public CustomCalloutBalloonAdapter(String title,String road , String phone) {
            this.mCalloutBallon = getLayoutInflater().inflate(R.layout.custom_bollon,null);
            this.title = title;
            this.road = road;
            this.phone = phone;
        }


        @Override
        public View getCalloutBalloon(MapPOIItem mapPOIItem) {
            ((TextView)mCalloutBallon.findViewById(R.id.customTitle)).setText(this.title);
            ((TextView)mCalloutBallon.findViewById(R.id.customRoad)).setText(this.road);
            ((TextView)mCalloutBallon.findViewById(R.id.customPhone)).setText(this.phone);
            return mCalloutBallon;
        }

        @Override
        public View getPressedCalloutBalloon(MapPOIItem mapPOIItem) {
            return null;
        }
    }

}
